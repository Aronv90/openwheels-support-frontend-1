<md-dialog flex="50" flex-sm="70">
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h2>Rit omboeken</h2>
      <span flex></span>
      <md-button class="md-icon-button" ng-click="cancel()">
        <md-icon>close</md-icon>
      </md-button>
    </div>
  </md-toolbar>

  <md-dialog-content>
    <div layout="column" layout-margin class="md-dialog-content">
      <h3>Rit omboeken</h3>
        <p>Klik op <strong>[Boeken]</strong> om de rit om te zetten op de betreffende auto. <span ng-if="personGet.phoneNumbers">De huurder kun je bereiken op telefoonnummer(s): <span ng-repeat="phoneNumber in personGet.phoneNumbers"><br/>{{ phoneNumber.number }}</span></p>
        <p>Bel de huurder op om hem te informeren over het omboeken van de rit.</span><br><br></p>

        <div ng-if="!availableResources.length && !loadingAvailableResources">Geen auto's gevonden.</div>

        <div ng-if="loadingAvailableResources"><i class="fa fa-fw fa-spin fa-spinner"></i></div>

        <div ng-repeat="resource in availableResources">
          <div class="row">
            <div class="col-xs-3">
              <img class="img-responsive media-object" ng-src="{{ resource.pictures[0] | resourceAvatar:'normal' }}">
            </div>
            <div class="col-xs-7" style="padding:0;">
              <h4 style="margin: 0px;"><a ui-sref="root.resource.show.summary({ resourceId: resource.id })">{{ resource.alias }}</a></h4>
              <md-list class="margin-right">
                <md-list-item style="margin:0;padding:0;height:30px;min-height:30px;">
                    <div flex>
                      <span ng-if="resource.streetNumber"> {{ resource.location }} {{ resource.streetNumber }}, {{ resource.city | toTitleCase }}
                        <span ng-if="resource.distance_to"> ({{ resource.distance_to | formatKilometers }})</span>
                      </span>
                      <span ng-if="!resource.streetNumber"> {{ resource.location }}, {{ resource.city | toTitleCase }}
                        <span ng-if="resource.distance_to"> ({{ resource.distance_to | formatKilometers }})</span>
                      </span>
                    </div>
                </md-list-item>
                <md-list-item style="margin:0;padding:0;height:30px;min-height:30px;">
                    <div flex>
                      <span ng-if="resource.locktype === 'chipcard'">
                        Openen met smartphone & OV-chipkaart
                      </span>
                      <span ng-if="resource.locktype === 'smartphone'">
                        Openen met smartphone
                      </span>
                      <span ng-if="resource.locktype === 'meeting'">
                        Openen met sleuteloverdracht
                      </span>
                    </div>
                </md-list-item>
                <md-list-item style="margin:0;padding:0;height:30px;min-height:30px;">
                    <div flex>
                      {{ resource.price.dayRateTotal | currency }} per dag
                    </div>
                </md-list-item>
                <md-list-item style="margin:0;padding:0;height:30px;min-height:30px;">
                    <div flex>
                      <span ng-if="resource.fuelType === 'elektrisch'">
                        Elektrische auto <span ng-if="resource.fuelLevel">({{ resource.fuelLevel }}% opgeladen)</span>
                      </span>
                      <span ng-if="resource.fuelType !== 'elektrisch'">
                        {{ resource.fuelType | toTitleCase }}
                      </span>
                    </div>
                </md-list-item>
              </md-list>
            </div>
            <div class="col-xs-2">
              <md-button class="md-accent  md-raised" ng-click="bookResource(booking, resource)">Boeken</md-button>
            </div>
          </div>
          <hr/>
        </div>
      </fieldset>
    </div>
  </md-dialog-content>

  <md-dialog-actions layout="row">
    <span flex></span>
    <md-button ng-click="cancel()">
     Sluiten
    </md-button>
  </md-dialog-actions>
</md-dialog>
