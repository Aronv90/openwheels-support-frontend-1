<form ng-submit="save(current.id, current)">
    <div class="form-group" >
      <label for="name">Query naam</label>
      <input id="name" class="form-control" ng-model="current.name" >
    </div>
    <div class="form-group">
      <label for="type">Query type</label>
      <select id="type" class="form-control" ng-model="current.type" ng-options="o as o for o in ['dql', 'sql']"></select>
    </div>
    <div class="form-group">
        <label for="query">Query</label>
        <textarea id="query" class="form-control" rows="3" ng-model="current.query"></textarea>
    </div>
    <input type="submit" class="btn btn-default" value="opslaan"> 
</form>

<div class="alert alert-warning" ng-if="error_message">Query error: {{error_message}} </div>

<table class="table">
    <thead>
        <tr>
            <th ng-repeat="(key, value) in data[0]">{{key}}</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="row in data">
            <td ng-repeat="field in row">{{field}}</td>
        </tr>
    </tbody>
</table>