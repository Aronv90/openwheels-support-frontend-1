<div class="alert alert-info" ng-show="!resource.ratings">
  This resoure has not yet been rated
</div>
<div class="ratings" ng-show="resource.ratings">
  <ul class="list-inline">
    <li><b>Satisfaction:</b> {{ (resource.rating_totals.satisfaction | percentage) || '-'}}</li>
    <li><b>Cleanliness:</b> <span ng-bind-html="(resource.rating_totals.cleanliness | ratingStars) || '-'"></span></li></li>
    <li><b>Quality:</b> <span ng-bind-html="(resource.rating_totals.quality | ratingStars) || '-'"></span></li></li>
  </ul>

  <ul class="list-unstyled list-block">
    <li ng-repeat="rating in resource.ratings">
      <div class="media">
        <a class="pull-left" ui-sref="root.person.show.summary({personId: rating.sender.id })">
          <img class="media-object" ng-src="{{ rating.sender | personAvatar:'square' }}" alt="Rater">
        </a>
        <div class="pull-left">
          <span ng-bind-html="rating | satisfactionThumb:'fa-lg'"></span>
        </div>
        <div class="media-body">
          <p>{{ rating.review || 'No review given'}}</p>
          <a ui-sref="root.person.show.summary({personId: r.sender.id })">{{ r.sender | fullname }}</a>
            <ul class="list-inline">
              <li><span class="text-muted"><a ui-sref="root.person.show.summary({personId: rating.sender.id })">{{ rating.sender.firstName }}</a></span></li>
              <li><span class="text-muted">Cleanliness:</span> <span ng-bind-html="(rating.cleanliness | ratingStars) || '-'"></span></li>
              <li><span class="text-muted">Quality:</span> <span ng-bind-html="(rating.quality | ratingStars) || '-'"></span></li>
              <li><span class="text-muted">{{ rating.created | amDateFormat:'DD-MM-YYYY | HH:mm' }}</span></li>
            </ul>
        </div>
      </div>
    </li>
  </ul>
</div>
